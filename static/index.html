<html>
    <head>
        <title>Splash@Cal Discrete Math</title>
        <link href='https://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet' type='text/css'>
        <link href='/css/style.css' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.13.2/codemirror.css">
        <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-icon-57x57.png">
        <link rel="apple-touch-icon" sizes="60x60" href="/img/apple-icon-60x60.png">
        <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-icon-72x72.png">
        <link rel="apple-touch-icon" sizes="76x76" href="/img/apple-icon-76x76.png">
        <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-icon-114x114.png">
        <link rel="apple-touch-icon" sizes="120x120" href="/img/apple-icon-120x120.png">
        <link rel="apple-touch-icon" sizes="144x144" href="/img/apple-icon-144x144.png">
        <link rel="apple-touch-icon" sizes="152x152" href="/img/apple-icon-152x152.png">
        <link rel="apple-touch-icon" sizes="180x180" href="/img/apple-icon-180x180.png">
        <link rel="icon" type="image/png" sizes="192x192"  href="/img/android-icon-192x192.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="96x96" href="/img/favicon-96x96.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon-16x16.png">
        <link rel="manifest" href="/img/manifest.json">
        <meta name="msapplication-TileColor" content="#ffffff">
        <meta name="msapplication-TileImage" content="/img/ms-icon-144x144.png">
        <meta name="theme-color" content="#ffffff">
        <link href='https://codemirror.net/theme/solarized.css' rel='stylesheet' type='text/css'>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.13.2/codemirror.js" type="text/javascript"></script>
        <script src="/js/skulpt.min.js" type="text/javascript"></script>
        <script src="/js/skulpt-stdlib.js" type="text/javascript"></script>
        <script src="https://code.jquery.com/jquery-2.2.2.min.js"></script>
        <script src="https://codemirror.net/mode/python/python.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.3.2/backbone-min.js"></script>
        <script src="/js/shared.js"></script>
        <script type="text/javascript">
            function loadPartial(partial) {
                $.get(partial, function(data) {
                    $("#container").html(data);
                });
            }
        </script>
    </head>
    <body>
        <div class="container" id="container">
        </div>
        <div class="sidebar">
            <a href="/" class="sidebar-title">
                Discrete Math
            </a>
            <div class="sidebar-item-group">
                <a href="/mod_inverse" class="sidebar-item">Mod Inverse</a>
                <a href="/share_secret" class="sidebar-item">Share a Secret</a>
                <a href="/reveal_secret" class="sidebar-item">Reveal Secret</a>
                <a href="/encode_error_correction" class="sidebar-item">Encode Error Correction</a>
                <a href="/decode_error_correction" class="sidebar-item">Decode Error Correction</a>
                <a href="/balancing" class="sidebar-item">Balancing Items</a>
                <a href="/recursion" class="sidebar-item">Recursion</a>
            </div>
            <a href="https://docs.google.com/document/d/1BUHRDFUQghZ0mHiE2LDxPBM2Bkfkl4ni58VlQUYS-io/edit?usp=sharing">
                <button class="right">Lecture Notes</button>
            </a>
        </div>
        <script type="text/javascript">
            var Router = Backbone.Router.extend({
                routes : {
                    "": "welcome",
                    "mod_inverse": "extended_gcd",
                    "share_secret": "share_secret",
                    "reveal_secret": "reveal_secret",
                    "encode_error_correction": "encode_error",
                    "decode_error_correction": "decode_error",
                    "balancing_items": "balancing",
                    "recursion": "recursion",
                    "default*": "welcome"
                },
                welcome: function() {
                    loadPartial('/static/html/welcome.html');
                },
                extended_gcd: function() {
                    loadPartial('/static/html/extended_gcd.html');
                },
                share_secret: function() {
                    loadPartial('/static/html/share_secret.html');
                },
                reveal_secret: function() {
                    loadPartial('/static/html/reveal_secret.html');
                },
                encode_error: function() {
                    loadPartial('/static/html/encode_error.html');
                },
                decode_error: function() {
                    loadPartial('/static/html/decode_error.html');
                },
                balancing: function() {
                    loadPartial('/static/html/balancing.html');
                },
                recursion: function() {
                    loadPartial('/static/html/recursion.html');
                }
            });

            new Router();
            Backbone.history.start({ pushState: true });

            jQuery(document).on("click", "a[href]:not([data-bypass])", function(evt) {
                var href = { prop: jQuery(this).prop("href"), attr: jQuery(this).attr("href") };
                var root = location.protocol + "//" + location.host + "/";
                if (href.prop.slice(0, root.length) === root) {
                    evt.preventDefault();
                    Backbone.history.navigate(href.attr, true);
                }
            });
        </script>
    </body>
</html>
